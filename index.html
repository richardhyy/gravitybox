<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GravityBox</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="libs/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="libs/bootstrap-icons/bootstrap-icons.css">
    <link href="libs/cesium/Widgets/widgets.css" rel="stylesheet">
    <script src="libs/cesium/Cesium.js"></script>
    <script src="libs/jquery-3.6.0.js"></script>
    <script src="libs/bootstrap/js/bootstrap.js"></script>
    <script src="libs/bootstrap/js/bootstrap.bundle.js"></script>
</head>
<body>
<div id="cesiumContainer"></div>
<div id="legend" style="display: none">
    <div class="legend-item">
        <div class="legend-color-gradient mb-1" id="gradient-bar"></div>
        <div class="legend-label-group" id="gradient-bar-label-container">
            <div class="legend-label" id="gradient-bar-label-min">Min</div>
            <div class="legend-label" id="gradient-bar-label-max">Max</div>
        </div>
    </div>
</div>
<div id="tool-panel" class="blur-background">
    <div class="d-flex justify-content-around">
        <button id="library-btn" class="cesium-button introduction-flashing"
                data-bs-toggle="tooltip" data-bs-placement="top"
                data-bs-html="true"
                title="Browse samples">
            <i class="bi bi-collection"></i>
        </button>
        <button id="load-btn" class="cesium-button introduction-flashing"
                data-bs-toggle="tooltip" data-bs-placement="top"
                data-bs-html="true"
                title="Select <b>.glb</b> for model, <br><b>.csv</b> for gravity field.
                <p class='text-muted m-0 p-0'>Hold <b>ctrl</b> (or <i class='bi bi-command'></i> on Mac) to select multiple files.</p>">
            <i class="bi bi-folder2-open"></i>
        </button>
        <button id="screenshot-btn" class="cesium-button"
                data-bs-toggle="tooltip" data-bs-placement="top"
                title="Export to image">
            <i class="bi bi-camera"></i>
        </button>
        <button id="rotate-btn" class="cesium-button"
                data-bs-toggle="tooltip" data-bs-placement="top"
                title="Toggle rotation">
            <i class="bi bi-arrow-counterclockwise"></i>
        </button>
        <button id="option-btn" class="cesium-button"
                data-bs-toggle="tooltip" data-bs-placement="top"
                title="Options">
            <i class="bi bi-gear"></i>
        </button>
    </div>
</div>

<div id="author">
    @AlanRichard
</div>

<!-- Modal -->
<div class="modal fade" id="optionModal" tabindex="-1" aria-labelledby="optionModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content text-light blur-background thick-shadow">
            <div class="modal-header border-bottom-0">
                <h5 class="modal-title" id="optionModalLabel">Options</h5>
            </div>
            <div class="modal-body">
                <label for="rotationSpeedSlider" class="form-label">Rotation speed</label>
                <input type="range" class="form-range" min="1" max="99" id="rotationSpeedSlider">

                <label for="generalizationSlider" class="form-label">Gravity field generalization</label>
                <input type="range" class="form-range" min="0" max="1000" id="generalizationSlider">

                <input class="form-check-input" type="checkbox" value="" id="colorSlicingCheck" checked>
                <label class="form-check-label" for="colorSlicingCheck">
                    Enable color slicing
                </label>

                <div id="singleColorOption" style="display: none">
                    <label for="singleColorInput" class="form-label">Single color</label>
                    <input type="color" class="form-control form-control-color" id="singleColorInput" value="#00FFFF" title="Choose color for gravity field">
                </div>
            </div>
            <div class="d-flex justify-content-between m-3">
                <div>
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                </div>
                <div>
                    <button type="button" class="btn btn-secondary" id="save-btn">Save changes</button>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Offcanvas -->
<div class="offcanvas offcanvas-start blur-background thick-shadow text-light" tabindex="-1" id="library" aria-labelledby="offcanvasWithBothOptionsLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Samples</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <ul class="m-1" id="library-items">
            <!-- Items will be added here -->
        </ul>
    </div>
</div>


<!-- Toast -->
<div id="generic-toast" class="toast position-fixed top-0 end-0 p-2 m-2 top-control blur-background" role="alert"
     aria-live="assertive" aria-atomic="true" style="z-index: 100">
    <div class="d-flex">
        <div class="toast-body" id="toast-message">
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                aria-label="Close"></button>
    </div>
</div>

<script src="js/generic-view.util.js"></script>
<script src="js/file.util.js"></script>
<script src="js/init.js"></script>
<script src="js/visualization.js"></script>
<script src="js/library.js"></script>
<script src="js/listener.js"></script>

<script>
    enableTooltip();
    // showTooltip("load-btn");
    showTipToast(`Click on &nbsp;<i class='bi bi-folder2-open'></i>&nbsp; to load your data,
    <br>or &nbsp;<i class='bi bi-collection'></i>&nbsp; to browse samples.`);
</script>
</body>
</html>